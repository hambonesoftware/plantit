#app{
  min-height:100vh;
  margin:0 auto;
  max-width:1440px;
  padding:calc(var(--gap)*2);
  display:flex;
  flex-direction:column;
  gap:var(--gap);
}

.app-shell{
  background:var(--panel);
  border-radius:var(--radius-2xl);
  box-shadow:var(--shadow-md);
  padding:calc(var(--gap)*0.75) var(--gap);
  display:flex;
  align-items:center;
  gap:var(--gap);
}

.app-shell .logo{
  display:flex;
  align-items:center;
  gap:calc(var(--gap)/2);
  font-weight:700;
  font-size:1.1rem;
  text-decoration:none;
  color:inherit;
}

.app-shell .logo .leaf{
  width:32px;
  height:32px;
  border-radius:var(--radius-xl);
  background:var(--accent-weak);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:1.1rem;
}

.app-shell .spacer{flex:1}

.app-shell .search{
  display:flex;
  align-items:center;
  width:420px;
  max-width:100%;
}

.app-shell .search input[type=search]{
  width:100%;
  border-radius:var(--radius-xl);
  border:1px solid color-mix(in srgb, var(--muted) 20%, var(--panel));
  background:color-mix(in srgb, var(--bg) 70%, var(--panel));
  padding:0.65rem 0.9rem;
}

.app-shell .search input[type=search]::placeholder{color:color-mix(in srgb, var(--muted) 60%, var(--panel))}

.app-shell .icons{
  display:flex;
  gap:calc(var(--gap)/1.5);
  align-items:center;
  color:var(--muted);
}

.app-shell .icon-btn{
  border:none;
  background:transparent;
  color:inherit;
  font-size:1.1rem;
  padding:0.35rem;
  border-radius:var(--radius-xl);
  cursor:pointer;
}

.app-shell .icon-btn:hover{color:var(--text);}

.app-shell .avatar{
  width:36px;
  height:36px;
  border-radius:50%;
  background:color-mix(in srgb, var(--accent-weak) 60%, var(--panel));
  display:inline-block;
}

.layout{
  display:grid;
  grid-template-columns:minmax(0,1fr) 360px;
  gap:calc(var(--gap)*1.5);
}

.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(var(--card-w), 1fr));
  gap:calc(var(--gap)*1.25);
}

.card{
  background:var(--panel);
  border-radius:var(--radius-2xl);
  box-shadow:var(--shadow-md);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.card .img{
  height:180px;
  background:color-mix(in srgb, var(--accent-weak) 55%, var(--bg));
}

.card .body{padding:var(--gap)}

.row{
  display:flex;
  align-items:center;
  gap:calc(var(--gap)/2);
  flex-wrap:wrap;
}

.title{
  font-weight:700;
  font-size:1.35rem;
  margin:0 0 calc(var(--gap)/2);
}

.meta{color:var(--muted);font-size:0.9rem;margin-top:calc(var(--gap)/2)}

.actions{
  display:flex;
  gap:calc(var(--gap)/1.25);
  margin-top:calc(var(--gap)*0.75);
}

.btn{
  border:none;
  background:color-mix(in srgb, var(--accent-weak) 35%, var(--panel));
  color:var(--accent);
  padding:0.55rem 0.9rem;
  border-radius:var(--radius-xl);
  box-shadow:var(--shadow-sm);
  cursor:pointer;
  transition:transform 120ms ease;
}

.btn:hover{transform:translateY(-1px)}

.badge{
  display:inline-flex;
  align-items:center;
  gap:0.3rem;
  border-radius:999px;
  padding:0.35rem 0.7rem;
  font-size:0.75rem;
  font-weight:600;
}

.badge.green{
  background:var(--accent-weak);
  color:var(--accent);
}

.badge.gray{
  background:color-mix(in srgb, var(--muted) 12%, var(--panel));
  color:var(--muted);
}

.badge.red{
  background:color-mix(in srgb, var(--warn) 18%, var(--panel));
  color:var(--warn);
}

.panel{
  background:var(--panel);
  border-radius:var(--radius-2xl);
  box-shadow:var(--shadow-md);
  padding:var(--gap);
  display:flex;
  flex-direction:column;
  gap:calc(var(--gap)/1.5);
  height:max-content;
}

.panel h3{margin:0;font-size:1.1rem}

.todo{
  display:flex;
  align-items:flex-start;
  gap:calc(var(--gap)/2);
}

.todo input[type=checkbox]{
  margin-top:0.3rem;
  width:1.1rem;
  height:1.1rem;
}

.todo .overdue{color:var(--warn);font-size:0.8rem;margin-left:0.3rem}

.calendar{
  border-top:1px solid color-mix(in srgb, var(--muted) 12%, var(--panel));
  padding-top:calc(var(--gap)/1.25);
}

.calendar header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:calc(var(--gap)/1.5);
  color:var(--muted);
  font-size:0.85rem;
}

.calendar .grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:calc(var(--gap)/3);
}

.calendar .day{
  height:32px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:var(--radius-xl);
  background:color-mix(in srgb, var(--bg) 80%, var(--panel));
  position:relative;
}

.calendar .dot{
  position:absolute;
  bottom:6px;
  width:6px;
  height:6px;
  border-radius:50%;
  background:var(--accent);
}

.footer{
  display:flex;
  justify-content:flex-end;
  gap:calc(var(--gap));
  margin-top:var(--gap);
}

.link-btn{
  border:none;
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  font-weight:600;
  text-decoration:underline;
}

@media (max-width:1200px){
  .layout{grid-template-columns:1fr}
}
